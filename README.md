# BlueLight and CocoLight

## BlueLight: Bluespec implementations of Lightweight Cryptography Candidates


[Bluespec SystemVerilog](https://github.com/B-Lang-org) implementations of NIST [Lightweight Cryptography](https://csrc.nist.gov/projects/lightweight-cryptography) (LWC) candidates.

Compliant with [LWC Hardware API](https://cryptography.gmu.edu/athena/LWC/LWC_HW_API.pdf).

- Bluespec LWC support package `LwcApi`

- CryptoCore implementations:
  - Xoodyak

### BlueLight CryptoCore Interface and API

![CryptoCore Interface](docs/BlueLight_CryptoCoreIfc.svg)

BdIO is used for both input and output to/from `CryptoCore`.
```bsv
typedef struct {
  CoreWord word;   // data word
  Bool lot;        // last word of the type
  Bit#(2) padarg;  // padding argument, number of valid bytes or 0 if all valid
} BdIO;
```

```bsv
interface CryptoCoreIfc;
  method Action process(SegmentType typ, Bool empty); // after fire, 0 or more words of type `typ` will be processed by the CryptoCore
  interface FifoIn#(BdIO)  bdi; // input to CryptoCore
  interface FifoOut#(BdIO) bdo; // output from CryptoCore
endinterface
```



Code statistics (generated by `tokei`):


|  Language   |        Files |      Lines |       Code |   Comments |     Blanks |
|-------------|--------------|------------|------------|------------|------------|
|  BluespecSV |           11 |       1535 |       1056 |        181 |        298 |

FPGA implementation targeting Xilinx `xc7a12tcsg325-3` using Vivado 2020.1 for maximum frequency (obtained through [Xeda](https://github.com/XedaHQ/xeda) `fmax` plugin) 

|  F_max (MHz) |         LUTs |        FFs |     Slices |
|-------------|--------------|------------|------------|
|  307.597    |         1523 |       1249 |        486 |

For details of throughput measurements and comparison to other LWC submissions, please see [here](https://eprint.iacr.org/2020/1207).

# CocoLight
LWC Testbench framework based on [cocotb](https://docs.cocotb.org/) Python framework.
